# jQuery Facebook Albums Plugin

A working demo is descripted below.

Suppose you have a `div` with id `facebookAlbumList` and that you want to render a list of Facebook public albums inside.
```html
<div id="facebookAlbumList"></div>
```

Now call the plugin on the jQuery object, using the property `fb_album_ids` to specify an array of album ids.
In this example, there is also a callback binded on the `on_action_end` event: this callback just inserts anchors on `.fb-album-anchor` DOM objects auto generated by the plugin.

```javascript
(function($) {
	$("#facebookAlbumList").facebookAlbumList({
		fb_album_ids: ["194952257226611","515744411814059","524241640964336","542374155817751"],
		imgcontainer_class	: "fb-album-imagecontainer image-panel",
		img_class		: "fb-album-img image-to-resize",
		on_action_end		: function(albums) {				
			$li		= $(".fb-album-element");
		
			// now attach anchors
			$li
  				.filter("[data-fbid=\"194952257226611\"]")
  				.find("a.fb-album-anchor").each(function(){ 
  					$(this).attr("href", "/albums/194952257226611");
  				});
			$li
				.filter("[data-fbid=\"515744411814059\"]")
				.find("a.fb-album-anchor").each(function(){ 
					$(this).attr("href", "/albums/515744411814059");
				});
			$li
				.filter("[data-fbid=\"524241640964336\"]")
				.find("a.fb-album-anchor").each(function(){ 
					$(this).attr("href", "/albums/524241640964336");
				});
			$li
				.filter("[data-fbid=\"542374155817751\"]")
				.find("a.fb-album-anchor").each(function(){ 
					$(this).attr("href", "/albums/542374155817751");
				});
		}
	});
}(jQuery));
```

Instead of using an already existing DOM object and use the default HTML rendering done by the plugin, you can also query albums and do what you want with the response object inside the `on_action_end` callback.

```javascript
(function($) {
	$.facebookAlbumQuery({
		fb_album_ids: <?php echo $this->serialized_ids; ?>,
		on_action_end: function(albums) {
			$td = $("#adminForm td");
			$console = $("#adminForm .console");				
			
			$.each(albums, function(k,v) {									
				$td.filter("#name-"+v.fb_album_id).html("<a target=\"_blank\" href=\""+v.fb_url+"\"><h4>"+v.name+"</h4></a>");
				$td.filter("#likes-"+v.fb_album_id).html(v.likes_count);
				$td.filter("#numphotos-"+v.fb_album_id).html(v.photo_count);
				$td.filter("#coverpicture-"+v.fb_album_id).html("<img src=\""+v.cover_photo_picture+"\" />");
			});
			
			$console.find(".message").html("<?php echo JText::_('COM_FBALBUMS_CONSOLE_INFORMATION_RETRIVED'); ?>");
			$console.find(".loader").toggleClass('hidden');
		}
	});
}(jQuery));
```
